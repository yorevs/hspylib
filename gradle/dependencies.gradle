/*
    Gradle dependencies extension
    Project: HSPyLib
    Created: 4th March, 2021
*/

project.ext.deps = [
  'PyQt5',
  'PyQt5-stubs',
  'cryptography',
  'pycodestyle',
  'pymysql',
  'requests',
  'emoji',
  'getkey',
  'twine',
  'wheel'
]

/* Install all required python packages */
task installDependencies(type: Task) {
  group = 'Install'
  description = 'Install all required python packages'
  doLast {
    println "Upgrading pip module to the latest "
    exec {
      commandLine rootProject.python, '-m', 'pip', 'install', '--user', '--upgrade', 'pip'
    }
    println "Installing dependencies using pip "
    deps.each { dep ->
      exec {
        commandLine rootProject.python, '-m', 'pip', 'install', '--user', dep
      }
    }
  }
}
